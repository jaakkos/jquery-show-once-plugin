((function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};(function(b,c,d){var e,f,g;return g="showOnce",f={expires:65,cookieKeyPrefix:"_show_once_traking_cookie",contentUrl:null,callback:null,log:!1,logger:null},e=function(){function c(c,d){this.element=c,this.contenLoaded=a(this.contenLoaded,this),this.options=b.extend({},f,d),this._defaults=f,this._name=g,this.init()}return c.prototype.init=function(){return this.cookie()?this.contenLoaded():this.loadContent()},c.prototype.loadContent=function(){var a=this;return b.ajax({url:this.options.contentUrl,type:"GET",error:function(b,c,d){return a.log("Error while loading content from:",b,c,d),a.contenLoaded()},success:function(c){return b(a.element).html(c),a.addTrackingToLinks(),a.contenLoaded()}})},c.prototype.addTrackingToLinks=function(){var a,c,d,e,f;e=b(this.element).find("a"),f=[];for(c=0,d=e.length;c<d;c++)a=e[c],f.push(this.bindTrackerToLink(a));return f},c.prototype.bindTrackerToLink=function(a){var c=this;return b(a).bind("click.showOnce",function(a){return c.cookie(1),!0})},c.prototype.contenLoaded=function(){var a;return this.options.callback&&(a=this.options.callback(b(this.element))),b(this.element).trigger("plugin_showOnce.contentLoaded"),this},c.prototype.cookie=function(a){var b,c,e,f,g;if(arguments.length===1&&!/Object/.test(Object.prototype.toString.call(a)))return a=String(a),b=new Date,b.setDate(b.getDate()+this.options.expires),d.cookie=[encodeURIComponent(this.cookieKey()),"=",encodeURIComponent(a),"; expires="+b.toUTCString(),"; path="+d.location.pathname].join("");e=d.cookie.split("; ");for(f=0,g=e.length;f<g;f++){c=e[f],c=c.split("=");if(decodeURIComponent(c[0])===this.cookieKey())return decodeURIComponent(c[1])||""}return null},c.prototype.cookieKey=function(){return this.options.cookieKeyPrefix+(b(this.element).attr("id")?"_"+b(this.element).attr("id"):"")},c.prototype.log=function(a){if(this.options.log&&this.options.logger)try{return this.options.logger(a)}catch(b){}},c}(),b.fn[g]=function(a){return this.each(function(){if(!b.data(this,"plugin_"+g))return b.data(this,"plugin_"+g,new e(this,a))})}})(jQuery,window,document)})).call(this);